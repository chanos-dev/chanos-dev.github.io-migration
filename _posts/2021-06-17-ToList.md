---
date: 2021-06-17
layout: post
title:  "C# List Collection ToList()"
description: "List Collection ToList()"
image: /assets/img/posts/image/csharp.png
optimized_image: /assets/img/posts/image/csharp.png
category: C Sharp
tags:
  - C#
  - .NET
  - List
author: chanos
---
>[Git Source](https://github.com/chanos-dev/blogcode/tree/master/21-0617)

---

ìš°ì„ , í•„ìëŠ” List í´ë˜ìŠ¤ì—ì„œ ToList í™•ì¥ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ í•´ë‹¹ ê°ì²´ ë° í•˜ìœ„ ì—˜ë¦¬ë©˜íŠ¸ë“¤ì´ ëª¨ë‘ Deep Copyê°€ ë˜ëŠ”ì§€ ì•Œì•˜ëŠ”ë° ê·¸ê²Œ ì•„ë‹ˆì˜€ë‹¤. ğŸ˜¥

ToList()ë¡œ ë°˜í™˜ëœ ê°ì²´ì—ì„œ ê°’ì„ ìˆ˜ì •í•˜ë‹ˆ ì›ë³¸ ê°ì²´ì˜ ê°’ë„ ìˆ˜ì •ì´ëœ ê²ƒì„ í™•ì¸í–ˆë‹¤.

í•´ë‹¹ ToList()ë¥¼ ë””ì»´íŒŒì¼ëŸ¬ë¡œ í™•ì¸ì„ í•´ë³¸ ê²°ê³¼ ë‹¤ìŒê³¼ ê°™ì•˜ë‹¤.

```c#
public static List<TSource> ToList<TSource>(this IEnumerable<TSource> source)
{
    return source != null ? new List<TSource>(source) : throw Error.ArgumentNull(nameof (source));
}
```

```c#
public List(IEnumerable<T> collection)
{
    if (collection == null)
    ThrowHelper.ThrowArgumentNullException(ExceptionArgument.collection);
    if (collection is ICollection<T> objs)
    {
        int count = objs.Count;
        if (count == 0)
        {
            this._items = List<T>._emptyArray;
        }
        else
        {
            this._items = new T[count];
            objs.CopyTo(this._items, 0);
            this._size = count;
        }
    }
    else
    {
        this._size = 0;
        this._items = List<T>._emptyArray;
        foreach (T obj in collection)
            this.Add(obj);
    }
}
```

ToListë¥¼ í˜¸ì¶œí•˜ë©´ ê²°êµ­ List ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ëŠ”ë° ëŒ€ì¶© ì‚´í´ë³´ë©´ ë‚´ë¶€ í•„ë“œì¸ _itemsì— CopyToë¥¼ í•´ì£¼ê³  ìˆë‹¤.

CopyTo ë©”ì„œë“œë„ ê²°êµ­ì—ëŠ” `ICollection` ì¸í„°í˜ì´ìŠ¤ë¡œ ì •ì˜ëœ List.CopyToê°€ í˜¸ì¶œë˜ëŠ”ë°, ì´ ì•ˆì—ì„œ Array.Copy()ë¥¼ í˜¸ì¶œí•´ì¤€ë‹¤.

ì—¬ê¸°ì„œ Array.Copyë¥¼ í•˜ë©´ MSDN ê³µì‹ë¬¸ì„œì— Deep Copyê°€ ì•„ë‹Œ Shallow Copyê°€ ì´ë£¨ì–´ì§„ë‹¤ê³  ì„¤ëª…ì´ ë‚˜ì™€ìˆë‹¤.

ê·¸ë ‡ê¸° ë•Œë¬¸ì— ToListë¡œ ë°›ì•„ì˜¨ ê°ì²´ì—ì„œ ìˆ˜ì •ì„í•˜ë©´ ì›ë³¸ë„ ìˆ˜ì •ì´ ë˜ëŠ” ê²ƒ..

ë¬´ì—‡ë³´ë‹¤ List í´ë˜ìŠ¤ê°€ Linked Listë¡œ êµ¬í˜„ëœì¤„ ì•Œì•˜ì§€ë§Œ Arrayë¡œ êµ¬í˜„ì´ ë˜ì—ˆë‹¤ëŠ” ê²ƒì´ë‹¤. Listì˜ ì¶”ê°€ ë° ì‚­ì œê°€ ì´ë£¨ì–´ì§ˆ ë•Œë§ˆë‹¤ Array.Copyê°€ ì´ë£¨ì–´ì§€ê¸° ë•Œë¬¸ì— í° ê°ì²´ë¥¼ ë‹´ê³  ìˆê±°ë‚˜ ë§ì€ ê°ì²´ê°€ ìˆëŠ” ê²½ìš° ê·¸ì— ë”°ë¥¸ ë¹„ìš©ì´ ì»¤ì§ˆ ìœ„í—˜ì´ ìˆì„ ê²ƒ ê°™ë‹¤.

---

## Reference

[Array.Copy ë©”ì„œë“œ](https://docs.microsoft.com/ko-kr/dotnet/api/system.array.copy?view=net-5.0){:target="_blank"}